# Проект: Место

### Обзор

Техническое задание было предоставлено в графическом редакторе Figma:
**Figma**

- [Ссылка на макет в Figma](https://www.figma.com/file/2cn9N9jSkmxD84oJik7xL7/JavaScript.-Sprint-4?node-id=0%3A1);

В работе также реализованы навыки адаптивой и резиновой верстки под разрешения экрана: 320px 1280px.

Учтены относительные и абсолютные показатели

Использовались такие инструменты как **Grid layot** и **Flex**.

Структура проекта выполнена согласно _Nested БЭМ_.

Тексты написаны бесплатным шрифтом _”Inter“_

- [Ссылка на проект](https://krylatka2022.github.io/mesto/)

### Особенности и отличия, спринт 4.

Добавлена функциональная часть **javascript**:

Реализовано одно диалоговое окно **popup** из макета — «Редактировать профиль».

В нём доступны для редактирования два поля: «Имя» и «О себе», а также кнопка «Сохранить» (специальное событие submit)

Рализовано переполнение содержимого в блоке profile и element.

Проект проверен на соответствие макету при помощи **PerfectPixel** для Chrome и **Pixel Perfect Pro** для Firefox

### Особенности и отличия, спринт 5

1. Реализовано добавление 6 карточек из массива с возможностью удаления и отметкой "нравится"

2. Клонирование элементов массива с помощью template

3. Реализована возможность увеличения картинок из массива

4. Реализована возможность добавления карточек по данным пользователя

Для реализации выполнения пунктов 3 и 4 было создано 2 дополнительных попапа

### Особенности и отличия, спринт 6.

1. Реализована валидация всех форм попапа с помощью функциональности **javascript**: пользователь, который неправильно ввел дданые в поля "редактировать профиль" или "добавление карточек" не сможет реализовать изменения. Если хотя бы одно из полей не прошло валидацию, кнопка «Сохранить» остается неактивной
   Использованы стандартные браузерные тексты ошибок.

2. Реализрвано закрытие попапа кликом на оверлей

3. Реализовано закрытие попапа нажатием на Esc

4. Улучшен UX при работе с попапами.

### Особенности и отличия, спринт 7.

#### Организация (рефакторинг) кода. Создание двух отдельных классов **Card** и **FormValidator**. ООП. Ванильный Js.

1. Kласс **Card** создаёт карточку с текстом и ссылкой на изображение:

- принимает в конструктор её данные и селектор её template-элемента;
- содержит приватные методы, которые работают с разметкой, устанавливают слушателей событий;
- содержит приватные методы для каждого обработчика;
- содержит один публичный метод, который возвращает полностью работоспособный и наполненный данными элемент карточки.

Для каждой карточки создан экземпляр класса **Card**.

2. Kласс **FormValidator** настраивает валидацию полей формы:

- принимает в конструктор объект настроек с селекторами и классами формы;
- принимает вторым параметром элемент той формы, которая валидируется;
- имеет приватные методы, которые обрабатывают форму: проверяют валидность поля, изменяют состояние кнопки сабмита, устанавливают все обработчики;
- имеет публичный метод enableValidation, который включает валидацию формы.

Для каждой проверяемой формы создан экземпляр класса **FormValidator**.

3. Разбивка JavaScript на модули. В проекте 3 js-файла:

- Card.js с кодом класса Card,
- FormValidator.js с кодом класса FormValidator,
- index.js со всем остальным кодом.

Классы Card и FormValidator экспортируются из соответствующих файлов, импортируются в index.js и используются в нём.

Отдельные js-файлы подключены в index.html как модули

### Особенности и отличия, спринт 8.

#### Организация (рефакторинг) кода. Создание дополнительных классов **Section**, **Popup**, **PopupWithForm**, **PopupWithImage** и **UserInfo**, рефакторинг класса **Card**. ООП. Ванильный Js. Настройка сборки Вебпаком.

1. Класс **Section** отвечает за отрисовку элементов на странице.

- Первым параметром конструктора принимает объект с двумя свойствами: items и renderer. Свойство items — это массив данных, которые нужно добавить на страницу при инициализации класса. Свойство renderer — это функция, которая отвечает за создание и отрисовку данных на странице.
- Второй параметр конструктора — селектор контейнера, в который нужно добавлять созданные элементы.
- Содержит публичный метод, который отвечает за отрисовку всех элементов. Отрисовка каждого отдельного элемента должна осуществляться функцией renderer.
- Содержит публичный метод addItem, который принимает DOM-элемент и добавляет его в контейнер.

У класса **Section** нет своей разметки. Он получает разметку через функцию-колбэк и вставляет её в контейнер.

2. Класс **Popup** отвечает за открытие и закрытие попапа.

- Принимает в конструктор единственный параметр — селектор попапа.
- Содержит публичные методы open и close, которые отвечают за открытие и закрытие попапа.
- Содержит приватный метод \_handleEscClose, который содержит логику закрытия попапа клавишей Esc.
- Содержит публичный метод setEventListeners, который добавляет слушатель клика иконке закрытия попапа. Модальное окно также закрывается при клике на затемнённую область вокруг формы.

3. Класс **PopupWithImage** наследует от **Popup**.

Этот класс перезаписывает родительский метод open. В методе open класса PopupWithImage вставлен в попап картинку с src изображения и подписью к картинке.

4. Класс **PopupWithForm** наследует от Popup.

- Кроме селектора попапа принимает в конструктор колбэк сабмита формы.
- Содержит приватный метод \_getInputValues, который собирает данные всех полей формы.
- Перезаписывает родительский метод setEventListeners. Метод setEventListeners класса PopupWithForm должен не только добавлять обработчик клика иконке закрытия, но и добавлять обработчик сабмита формы.
- Перезаписывает родительский метод close, так как при закрытии попапа форма должна ещё и сбрасываться.

Для каждого попапа создан свой экземпляр класса **PopupWithForm**.

5. Класс **UserInfo** отвечает за управление отображением информации о пользователе на странице.

- Принимает в конструктор объект с селекторами двух элементов: элемента имени пользователя и элемента информации о себе.
- Содержит публичный метод getUserInfo, который возвращает объект с данными пользователя. Этот метод пригодится когда данные пользователя нужно будет подставить в форму при открытии.
- Содержит публичный метод setUserInfo, который принимает новые данные пользователя и добавляет их на страницу.

6. Рефакторинг класса **Card**

Класс Card связан c попапом, принимает в конструктор функцию handleCardClick. Эта функция открывает попап с картинкой при клике на карточку.

7. Настройка сборки Вебпаком

- Инициализация npm в проекте.
- Установка webpack, webpack-cli и webpack-dev-server.
- Настройка двух сборок: build и dev. Создание соответствующих скриптов package.json. Скрипт build пересоздает папку dist с собранным проектом. Скрипт dev запускает проект на локальном сервере.
- Настройка минификации и транспиляции JS бабелем. Из index.html убран тег script с подключением скрипт. Вебпак собирает весь JavaScript в один файл и автоматически добавляет в HTML тег script со ссылкой на него.
- Настройка обработки CSS: в HTML нет больше тега link со ссылкой на CSS-файл. За обработку и подключение CSS отвечает Webpack.
- Настройка минификации CSS и автоматического добавления вендорных префиксов.
- Настройка обработки изображений и шрифтов.
- Настройка обработки HTML: все ссылки на локальные картинки в HTML при сборке работают.

### Особенности и отличия, спринт 9. 
#### Подключение к серверу, рефакторинг кода

1. Загрузка информации о пользователе с сервера. Информация о пользователе теперь подгружается с сервера

2. Загрузка карточек с сервера. Начальные карточки теперь подгружаются с сервера

3. Редактирование профиля. Отредактированные данные профиля теперь сохраняются на сервере

4. Добавление новой карточки на сервер

5. Отображение количества лайков карточки. У каждой карточки есть свойство likes — оно содержит массив пользователей, лайкнувших карточку. Теперь на каждой карточке написано, сколько у неё лайков

6. Попап удаления карточки. Удаление чего-то, как правило, безвозвратно. Поэтому перед этим действием стоит спросить пользователя, уверен ли он, что хочет удалить карточку. 

7. Удаление карточки. Иконка удаления теперь только на созданных пользователем карточках, так как удалять чужие карточки нельзя.

8. Обновление аватара пользователя. При наведении указателя мыши на аватар, на нём появляется иконка редактирования. При клике открывается форма,  ней одно поле — ссылка на новый аватар

9. Улучшенный UX всех форм.  При редактировании профиля происходит уведомление пользователя о процессе загрузки, меняется текст кнопки на: «Сохранение...», пока данные загружаются.